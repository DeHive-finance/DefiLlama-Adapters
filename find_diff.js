const fromBack = [
  {
    "id": 2,
    "networkId": 1,
    "symbol": "UNI-DHV-WETH",
    "tvl": 208355.73,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:04.395651 +00:00"
  },
  {
    "id": 27,
    "networkId": 56,
    "symbol": "DODO-WBNB-IMPULSE",
    "tvl": 45.83,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:06.809702 +00:00"
  },
  {
    "id": 17,
    "networkId": 137,
    "symbol": "QCK-DHV-QUICK-NEW",
    "tvl": 150.72,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:08.630047 +00:00"
  },
  {
    "id": 4,
    "networkId": 137,
    "symbol": "DPOL",
    "tvl": 49230.54,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:09.553140 +00:00"
  },
  {
    "id": 28,
    "networkId": 56,
    "symbol": "BANANA-WBNB-IMPULSE",
    "tvl": 155.12,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:39:17.775000 +00:00"
  },
  {
    "id": 31,
    "networkId": 56,
    "symbol": "AVAX-WBNB-IMPULSE",
    "tvl": 0.00,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:12.553979 +00:00"
  },
  {
    "id": 25,
    "networkId": 56,
    "symbol": "LINK-WBNB-IMPULSE",
    "tvl": 0.00,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:14.938327 +00:00"
  },
  {
    "id": 32,
    "networkId": 56,
    "symbol": "DBSC",
    "tvl": 36746.84,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:16.110024 +00:00"
  },
  {
    "id": 11,
    "networkId": 137,
    "symbol": "MAI-USDT-IMPULSE",
    "tvl": 19826.59,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:39:21.351000 +00:00"
  },
  {
    "id": 3,
    "networkId": 137,
    "symbol": "DHV",
    "tvl": 130343.56,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:10.219430 +00:00"
  },
  {
    "id": 10,
    "networkId": 137,
    "symbol": "USDC-MATIC-IMPULSE",
    "tvl": 1206.37,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:39:22.704000 +00:00"
  },
  {
    "id": 13,
    "networkId": 137,
    "symbol": "WMATIC-WETH-IMPULSE",
    "tvl": 2155.68,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:17.673521 +00:00"
  },
  {
    "id": 19,
    "networkId": 56,
    "symbol": "DHV",
    "tvl": 112669.56,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:18.167558 +00:00"
  },
  {
    "id": 22,
    "networkId": 56,
    "symbol": "BUSDT-WBNB-IMPULSE",
    "tvl": 5.35,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:35.729760 +00:00"
  },
  {
    "id": 36,
    "networkId": 100,
    "symbol": "DXIN",
    "tvl": 39372.24,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:36.707036 +00:00"
  },
  {
    "id": 33,
    "networkId": 56,
    "symbol": "PANCAKE-DHV-BUSD",
    "tvl": 90766.05,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:40.064759 +00:00"
  },
  {
    "id": 9,
    "networkId": 137,
    "symbol": "USDC-QUICK-IMPULSE",
    "tvl": 838.83,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:36:25.225000 +00:00"
  },
  {
    "id": 34,
    "networkId": 100,
    "symbol": "DHV",
    "tvl": 42044.09,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:40.520846 +00:00"
  },
  {
    "id": 16,
    "networkId": 137,
    "symbol": "WMATIC-GHST-IMPULSE",
    "tvl": 2787.01,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:13.121902 +00:00"
  },
  {
    "id": 8,
    "networkId": 137,
    "symbol": "WETH-DAI-IMPULSE",
    "tvl": 1814.19,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:46.729870 +00:00"
  },
  {
    "id": 5,
    "networkId": 137,
    "symbol": "DGAME",
    "tvl": 12430.48,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:13.913111 +00:00"
  },
  {
    "id": 7,
    "networkId": 137,
    "symbol": "DHV-QUICK-IMPULSE",
    "tvl": 138.27,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:48.262703 +00:00"
  },
  {
    "id": 30,
    "networkId": 56,
    "symbol": "TWT-WBNB-IMPULSE",
    "tvl": 0.00,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:39:25.423000 +00:00"
  },
  {
    "id": 20,
    "networkId": 56,
    "symbol": "CAKE-BUSD-IMPULSE",
    "tvl": 8.84,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:51.826606 +00:00"
  },
  {
    "id": 12,
    "networkId": 137,
    "symbol": "AVAX-WETH-IMPULSE",
    "tvl": 2210.06,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:53.396653 +00:00"
  },
  {
    "id": 1,
    "networkId": 1,
    "symbol": "DHV",
    "tvl": 135967.33,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:54.451335 +00:00"
  },
  {
    "id": 23,
    "networkId": 56,
    "symbol": "XVS-WBNB-IMPULSE",
    "tvl": 7.47,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:57.663674 +00:00"
  },
  {
    "id": 18,
    "networkId": 137,
    "symbol": "CRV-IMPULSE",
    "tvl": 1776.52,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:43:58.405899 +00:00"
  },
  {
    "id": 29,
    "networkId": 56,
    "symbol": "BANANA-BUSD-IMPULSE",
    "tvl": 0.00,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:41:54.337000 +00:00"
  },
  {
    "id": 24,
    "networkId": 56,
    "symbol": "ALPACA-BUSD-IMPULSE",
    "tvl": 2.03,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:41:57.255000 +00:00"
  },
  {
    "id": 26,
    "networkId": 56,
    "symbol": "CAKE-BUSDT-IMPULSE",
    "tvl": 0.00,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:16.319416 +00:00"
  },
  {
    "id": 37,
    "networkId": 100,
    "symbol": "DXDC",
    "tvl": 76406.88,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:39:26.311000 +00:00"
  },
  {
    "id": 15,
    "networkId": 137,
    "symbol": "SNX-WETH-IMPULSE",
    "tvl": 1300.08,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:17.689813 +00:00"
  },
  {
    "id": 35,
    "networkId": 100,
    "symbol": "HONEY-DHV-WXDAI",
    "tvl": 17303.97,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:36:28.115000 +00:00"
  },
  {
    "id": 6,
    "networkId": 137,
    "symbol": "QCK-DHV-QUICK",
    "tvl": 94.71,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:19.350108 +00:00"
  },
  {
    "id": 14,
    "networkId": 137,
    "symbol": "CRV-WETH-IMPULSE",
    "tvl": 2421.77,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:42:20.724412 +00:00"
  },
  {
    "id": 21,
    "networkId": 56,
    "symbol": "BUSDT-USDC-IMPULSE",
    "tvl": 139.37,
    "apr": null,
    "apy": null,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 14:41:03.520964 +00:00"
  },
  {
    "id": 6,
    "networkId": 100,
    "symbol": "DXDC",
    "decimals": 18,
    "tvl": 77409.45,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 15:14:00.969131 +00:00"
  },
  {
    "id": 1,
    "networkId": 1,
    "symbol": "DECR",
    "decimals": 18,
    "tvl": 4347.46,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 15:14:02.601608 +00:00"
  },
  {
    "id": 2,
    "networkId": 137,
    "symbol": "DPOL",
    "decimals": 18,
    "tvl": 52790.79,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 15:14:03.536138 +00:00"
  },
  {
    "id": 3,
    "networkId": 137,
    "symbol": "DGAME",
    "decimals": 18,
    "tvl": 15121.19,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 15:14:04.411706 +00:00"
  },
  {
    "id": 4,
    "networkId": 56,
    "symbol": "DBSC",
    "decimals": 18,
    "tvl": 38285.05,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 15:14:05.560784 +00:00"
  },
  {
    "id": 5,
    "networkId": 100,
    "symbol": "DXIN",
    "decimals": 18,
    "tvl": 39883.76,
    "createdAt": "2022-01-13 07:20:39.818857 +00:00",
    "updatedAt": "2022-01-14 15:14:06.495080 +00:00"
  }
];


const fromDefiLama = [
  { "networkId": 1, "symbol": "DHV", "tvl": 137871.74022836753 },
  { "networkId": 1, "symbol": "UNI-DHV-WETH", "tvl": 348269.4778212785 },
  { "networkId": 137, "symbol": "DHV", "tvl": 132169.19873462516 },
  { "networkId": 137, "symbol": "DPOL", "tvl": 185369.33292701555 },
  { "networkId": 137, "symbol": "DGAME", "tvl": 202006.58731139704 },
  { "networkId": 137, "symbol": "CRV-DAI-USDC-USDT-WBTC-WETH", "tvl": 203799.66020712937 },
  { "networkId": 137, "symbol": "QCK-DHV-QUICK", "tvl": 204088.71153854398 },
  { "networkId": 137, "symbol": "QCK-WETH-DAI", "tvl": 207788.9053600617 },
  { "networkId": 137, "symbol": "QCK-USDC-QUICK", "tvl": 211294.73799837424 },
  { "networkId": 137, "symbol": "QCK-MAI-USDT", "tvl": 291813.7244360086 },
  { "networkId": 137, "symbol": "SUSHI-AVAX-WETH", "tvl": 294228.0617346807 },
  { "networkId": 137, "symbol": "SUSHI-WMATIC-WETH", "tvl": 298615.2644003752 },
  { "networkId": 137, "symbol": "SUSHI-CRV-WETH", "tvl": 302332.44237023295 },
  { "networkId": 137, "symbol": "SUSHI-SNX-WETH", "tvl": 304293.5480354227 },
  { "networkId": 137, "symbol": "SUSHI-WMATIC-GHST", "tvl": 308621.68013074575 },
  { "networkId": 137, "symbol": "QCK-DHV-QUICK", "tvl": 308629.9933357227 },
  { "networkId": 137, "symbol": "QCK-DHV-QUICK", "tvl": 308664.39841145853 },
  { "networkId": 56, "symbol": "DHV", "tvl": 114247.6517987576 },
  { "networkId": 56, "symbol": "DBSC", "tvl": 152379.69605524937 },
  { "networkId": 56, "symbol": "PANCAKE-DHV-BUSD", "tvl": 244261.95505124412 },
  { "networkId": 56, "symbol": "PANCAKE-CAKE-BUSD", "tvl": 244270.90776654473 },
  { "networkId": 56, "symbol": "PANCAKE-BUSDT-USDC", "tvl": 244411.66774958392 },
  { "networkId": 56, "symbol": "PANCAKE-BUSDT-WBNB", "tvl": 244417.06156436948 },
  { "networkId": 56, "symbol": "PANCAKE-XVS-WBNB", "tvl": 244424.59186873172 },
  { "networkId": 56, "symbol": "PANCAKE-ALPACA-BUSD", "tvl": 244426.65112452864 },
  { "networkId": 56, "symbol": "PANCAKE-LINK-WBNB", "tvl": 244426.6520504563 },
  { "networkId": 56, "symbol": "PANCAKE-CAKE-BUSDT", "tvl": 244426.65205361482 },
  { "networkId": 56, "symbol": "PANCAKE-DODO-WBNB", "tvl": 244473.17021744023 },
  { "networkId": 56, "symbol": "APE-BANANA-WBNB", "tvl": 244628.64782735286 },
  { "networkId": 56, "symbol": "APE-BANANA-BUSD", "tvl": 244628.6478108418 },
  { "networkId": 56, "symbol": "APE-TWT-WBNB", "tvl": 244628.64783019116 },
  { "networkId": 56, "symbol": "APE-AVAX-WBNB", "tvl": 244628.6478336398 },
  { "networkId": 100, "symbol": "DHV", "tvl": 0 },
  { "networkId": 100, "symbol": "DXIN", "tvl": 29068.069943164683 },
  { "networkId": 100, "symbol": "DXDC", "tvl": 101029.11192606155 },
  { "networkId": 100, "symbol": "HONEY-DHV-WXDAI", "tvl": 106573.16942178708 },
];


const findRecord = (networkId, symbol, where) => {
  for (let i = 0; i < where.length; i++) {
    if (where[i].networkId === networkId && where[i].symbol === symbol) {
      return where[i];
    }
  }
  return null;
};


(() => {
  const diffAccuracy = 1.1;
  for (let i = 0; i < fromBack.length; i++) {
    const recordWhere = fromBack[i];
    const recordWhat = findRecord(recordWhere.networkId, recordWhere.symbol, fromDefiLama);
    if (recordWhat === null) {
      console.log("--------record not found--------------");
      console.log(JSON.stringify(recordWhere, null, 4));
      continue;
    }
    let tvl1 = recordWhat.tvl;
    let tvl2 = recordWhere.tvl;
    if (recordWhat.tvl > recordWhere.tvl) {
      tvl1 = recordWhere.tvl;
      tvl2 = recordWhat.tvl;
    }
    if (tvl2 / tvl1 >= diffAccuracy || (tvl1 === 0 && tvl2 !== 0) || (tvl2 === 0 && tvl1 !== 0)) {
      console.log("----------------------");
      console.log(JSON.stringify(recordWhere, null, 4));
      console.log(JSON.stringify(recordWhat, null, 4));
    }
  }
})();

